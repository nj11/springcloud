# Start with a base image containing Java runtime
# A docker image can use another image available in the docker registry as its base or parent image
FROM openjdk:8-jdk-alpine

MAINTAINER Natasha Juneja

# Add a volume pointing to /tmp
# Volumes are a mechanism to persist data generated by the container on the Host OS, and share directories from the Host OS with the container.
# We created a mount point with path /tmp because this is where the spring boot application creates working directories for Tomcat by default.
VOLUME /tmp

# Make port 80 available to the world outside this container
# Expose a certain port to the outside world.
EXPOSE 8765

# The application's jar file

ADD target/*.jar app.jar
ENV JAVA_OPTS=""
ENTRYPOINT [ "sh", "-c", "java $JAVA_OPTS -Djava.security.egd=file:/dev/./urandom -jar /app.jar" ]
